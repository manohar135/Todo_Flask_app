{% extends 'base.html' %}

{% block body %}
<div class="container shadow p-3 mb-5 bg-body rounded mt-3">
  <form action="/update/{{todo.sno}}" method="POST">
    <section class="container">
      <div class="mb-3">
        <label for="title" class="form-label fs-4" style="font-family: 'Fjalla One', sans-serif;">Update Title</label>
        <input type="text" name="title" class="form-control" value= "{{todo.title}}" placeholder="Enter your Todo title" id="title"
          aria-describedby="emailHelp">
      </div>
      <div class="mb-3">
        <label for="desc" class="form-label fs-4" style="font-family: 'Fjalla One', sans-serif;">Update
          Description</label>
        <textarea class="form-control" name="desc" id="desc" rows="3"
          placeholder="Enter your Todo Description">{{todo.desc}}</textarea>
      </div>
    </section>

    <!-- Date-Time -->
    <section class="container mb-4">
      <label class="form-label fs-4 mb-0" style="font-family: 'Fjalla One', sans-serif;">Notification Date-time</label>
      <div class="row">
        <label for="date" class="col-form-label fw-bold fs-5">Date:</label>
        <div class="col-sm-2">
          <input type="date" name="date" id="txtDate" />
        </div>
        <label for="date" class="col-sm-0 col-form-label fw-bold fs-5 mt-2">time:</label>
        <div class="col-sm-2">
          <input type="time" name="time" id="txtTime">
        </div>
      </div>
    </section>
    <button type="submit" class="btn btn-primary mt-2">Update</button>
  </form>
</div>
{% endblock body %}

{% block script %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  //Desabling the past dates
  $(function () {
    var dtToday = new Date();
    $('#txtDate').attr('min', dtToday.toISOString().substr(0, 10));
  });
</script>

{% endblock script %}
